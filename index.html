<!DOCTYPE html>
<html>

<head>
    <title>Cotton Calculator</title>
    <style>
        .calculator-container {
            max-width: 400px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        label {
            margin-bottom: 10px;
        }

        input[type="number"] {
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
        }

        button[type="submit"] {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button[type="submit"]:hover {
            background-color: #3e8e41;
        }

        .result-container {
            margin-top: 20px;
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        li {
            margin-bottom: 10px;
        }

        li span:first-child {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="calculator-container">
        <h1>Cotton Calculator</h1>
        <form>
            <label for="cotton-weight">Cotton Weight (kg):</label>
            <input type="number" id="cotton-weight" value="" />
            <label for="cotton-price">Cotton Price per Quintal:</label>
            <input type="number" id="cotton-price" value="" />
            <button type="submit">Calculate</button>
        </form>
        <div class="result-container">
            <h2>Result:</h2>
            <ul>
                <li><span>Original Weight:</span> <span id="original-weight"></span></li>
                <li><span>Weight Cut:</span> <span id="weight-cut"></span></li>
                <li><span>Weight After Cut:</span> <span id="weight-after-cut"></span></li>
                <li><span>Amount After Cut:</span> <span id="amount-after-cut"></span></li>
                <li><span>Hamaley Cut Price:</span> <span id="hamaley-cut-price"></span></li>
                <li><span>Final Amount:</span> <span id="final-amount"></span></li>
            </ul>
        </div>
    </div>

    <script>
        const calculatorForm = document.querySelector('form');
        const resultContainer = document.querySelector('.result-container');

        calculatorForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const cottonWeight = parseInt(document.querySelector('#cotton-weight').value);
            const cottonPrice = parseInt(document.querySelector('#cotton-price').value);
            const result = calculateFinalResult(cottonWeight, cottonPrice);
            displayResult(result);
        });

        function displayResult(result) {
            document.querySelector('#original-weight').textContent = result.originalWeight.toFixed(2);
            document.querySelector('#weight-cut').textContent = result.weightCut;
            document.querySelector('#weight-after-cut').textContent = result.weightAfterCut.toFixed(2);
            document.querySelector('#amount-after-cut').textContent = result.amountAfterCut;
            document.querySelector('#hamaley-cut-price').textContent = result.hamaleyCutPrice;
            document.querySelector('#final-amount').textContent = result.finalAmount;
        }

        function calculateFinalResult(cottonWeightKg, cottonPricePerQuintal) {
            const cottonWeightQuintal = convertKgToQuintal(cottonWeightKg);
            const [intPart, decimalPart] = splitQuintalParts(cottonWeightQuintal);
            const [weightCut, hamaleyCutPrice] = calculateCuts(intPart, decimalPart);
            const cottonWeightAfterCut = convertKgToQuintal(cottonWeightKg - weightCut);
            const amountAfterCut = Math.floor(cottonWeightAfterCut * cottonPricePerQuintal);
            const finalAmount = amountAfterCut - hamaleyCutPrice;
            return {
                originalWeight: cottonWeightQuintal,
                weightCut,
                weightAfterCut: cottonWeightAfterCut,
                amountAfterCut,
                hamaleyCutPrice,
                finalAmount,
            };
        }

        function convertKgToQuintal(weightKg) {
            return weightKg / 100;
        }

        function splitQuintalParts(weightQuintal) {
            const intPart = Math.floor(weightQuintal);
            const decimalPart = weightQuintal - intPart;
            return [intPart, decimalPart];
        }
        function calculateCuts(intPart, decimalPart) {
            let weightCut;
            if (decimalPart >= 0.50) {
                weightCut = intPart * 2 + 2;
            } else if (decimalPart > 0.10) {
                weightCut = intPart * 2 + 1;
            } else {
                weightCut = intPart * 2;
            }
            const hamalyCut = decimalPart >= 0.10 ? (intPart + 1) * 30 : intPart * 30;
            return [weightCut, hamalyCut];
        }
    </script>
</body>

</html>
